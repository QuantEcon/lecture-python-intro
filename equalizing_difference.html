

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>10. Equalizing Difference Model &#8212; A First Course in Quantitative Economics with Python</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/quantecon-book-theme.3e777eaae0c95b0b775aa300baed123e.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />


    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script src="_static/quantecon-book-theme.15b0c36fffe88f468997fa7b698991d3.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QDS1YRJNGM"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-QDS1YRJNGM');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'equalizing_difference';</script>
    <link rel="canonical" href="https://intro.quantecon.org/equalizing_difference.html" />
    <link rel="shortcut icon" href="_static/lectures-favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Price Level Histories" href="inflation_history.html" />
    <link rel="prev" title="9. Consumption Smoothing" href="cons_smooth.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Python, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents introductory lectures on computational economics, designed and written by Thomas J. Sargent and John Stachurski. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="Equalizing Difference Model"/>
<meta name="twitter:description" content="This website presents introductory lectures on computational economics, designed and written by Thomas J. Sargent and John Stachurski.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="Equalizing Difference Model" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://intro.quantecon.org/equalizing_difference.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents introductory lectures on computational economics, designed and written by Thomas J. Sargent and John Stachurski." />
<meta property="og:site_name" content="A First Course in Quantitative Economics with Python" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=equalizing_difference>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tweaked-model-workers-and-entrepreneurs">10.1. Tweaked model: workers and entrepreneurs</a></li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="_static/qe-logo.png" class="logo" alt="logo"></a>
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="intro.html">A First Course in Quantitative Economics with Python</a></p>

                        <p class="qe-page__header-subheading">Equalizing Difference Model</p>

                    </div>

                    <p class="qe-page__header-authors">Thomas J. Sargent & John Stachurski</p>

                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <section class="tex2jax_ignore mathjax_ignore" id="equalizing-difference-model">
<h1><span class="section-number">10. </span>Equalizing Difference Model<a class="headerlink" href="#equalizing-difference-model" title="Permalink to this heading">#</a></h1>
<p>This notebook presents a model of the college-high-school wage gap in which the
“time to build” a college graduate plays a key role.</p>
<p>The model is “incomplete” in the sense that it is just one “condition” in the form of one
equation that would be part of set equations comprising all of the “equilibrium conditions” of   a more fully articulated model.</p>
<p>The condition featured in our model determines  a college, high-school wage ratio that equalizes the
present values of a high school worker and a college educated worker.</p>
<p>It is just one instance of an  “equalizing difference” theory of relative wage rates, a class dating back at least to Adam Smith’s <strong>Wealth of Nations</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>Let</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(R &gt; 0\)</span> be the gross rate of return on a one-period bond</p></li>
<li><p><span class="math notranslate nohighlight">\(0\)</span> denotes the first period after high school that a person can go to work</p></li>
<li><p><span class="math notranslate nohighlight">\(T\)</span> denote the last period a person can work</p></li>
<li><p><span class="math notranslate nohighlight">\(w_t^h\)</span> be the wage at time <span class="math notranslate nohighlight">\(t\)</span> of a high school graduate</p></li>
<li><p><span class="math notranslate nohighlight">\(w_t^c\)</span> be the wage at time <span class="math notranslate nohighlight">\(t\)</span> of a college graduate</p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma_h &gt; 0\)</span> be the (gross) rate of growth of wages of a  high school graduate, so that
<span class="math notranslate nohighlight">\( w_t^h = w_0^h \gamma_h^t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\gamma_c &gt; 0\)</span> be the (gross) rate of growth of wages of a  college  graduate, so that
<span class="math notranslate nohighlight">\( w_t^c = w_0^c \gamma_c^t\)</span></p></li>
</ul>
<p>If someone goes to work immediately after high school  and  works for <span class="math notranslate nohighlight">\(T+1\)</span> years, she earns present value</p>
<div class="math notranslate nohighlight">
\[
h_0 = \sum_{t=0}^T R^{-t} w_t^h = w_0^h \left[ \frac{1 - (R^{-1} \gamma_h)^{T+1} }{1 - R^{-1} \gamma_h } \right] \equiv w_0^h A_h 
\]</div>
<p>If someone goes to college for four years during which she earns <span class="math notranslate nohighlight">\(0\)</span>, but then goes to work  immediately after college   and  work for <span class="math notranslate nohighlight">\(T-3\)</span> years, she earns present value</p>
<div class="math notranslate nohighlight">
\[
c_0 = \sum_{t=4}^T R^{-t} w_t^c = w_0^c (R^{-1} \gamma_c)^3  \left[ \frac{1 - (R^{-1} \gamma_c)^{T-3} }{1 - R^{-1} \gamma_c } \right] \equiv w_0^c A_c
\]</div>
<p>Assume that college tuition plus four years of room and board paid for up front costs <span class="math notranslate nohighlight">\(D\)</span>.</p>
<p>So net of monetary cost of college, the present value of attending college as of the first period after high school is</p>
<div class="math notranslate nohighlight">
\[ 
c_0 - D
\]</div>
<p>We now formulate a pure <strong>equalizing difference</strong> model of the initial college-high school wage gap <span class="math notranslate nohighlight">\(\phi\)</span> defined by</p>
<p>Let</p>
<div class="math notranslate nohighlight">
\[
w_0^c = \phi w_0^h 
\]</div>
<p>We suppose that <span class="math notranslate nohighlight">\(R, \gamma_h, \gamma_c, T\)</span> and also <span class="math notranslate nohighlight">\(w_0^h\)</span>  are fixed parameters.</p>
<p>We start by noting that the pure equalizing difference model asserts that the college-high-school wage gap <span class="math notranslate nohighlight">\(\phi\)</span> solves</p>
<div class="math notranslate nohighlight">
\[
h_0 = c_0 - D
\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[ 
w_0^h A_h  = \phi w_0^h A_c - D
\]</div>
<p>or</p>
<div class="math notranslate nohighlight">
\[
\phi  = \frac{A_h}{A_c} + \frac{D}{w_0^h A_c}
\]</div>
<p>In a <strong>free college</strong> special case <span class="math notranslate nohighlight">\(D =0\)</span> so that the only cost of going to college is the forgone earnings from not working as a high school worker.</p>
<p>In that case,</p>
<div class="math notranslate nohighlight">
\[
\phi  = \frac{A_h}{A_c} . 
\]</div>
<section id="tweaked-model-workers-and-entrepreneurs">
<h2><span class="section-number">10.1. </span>Tweaked model: workers and entrepreneurs<a class="headerlink" href="#tweaked-model-workers-and-entrepreneurs" title="Permalink to this heading">#</a></h2>
<p>We can add a parameter and reinterpret variables to get a model of entrepreneurs versus workers.</p>
<p>We now let <span class="math notranslate nohighlight">\(h\)</span> be  the present value of a “worker”.</p>
<p>We define the present value of an entrepreneur to be</p>
<div class="math notranslate nohighlight">
\[
c_0 = \pi \sum_{t=4}^T R^{-t} w_t^c
\]</div>
<p>where <span class="math notranslate nohighlight">\(\pi \in (0,1) \)</span> is  the probability that an entrepreneur’s “project” succeeds.</p>
<p>We set <span class="math notranslate nohighlight">\(D =0\)</span>.</p>
<p>What we used to call the college, high school wage gap <span class="math notranslate nohighlight">\(\phi\)</span> now becomes the ratio
of a successful entrepreneur’s earnings to a worker’s earnings.</p>
<p>We’ll find that as <span class="math notranslate nohighlight">\(\pi\)</span> decreases, <span class="math notranslate nohighlight">\(\phi\)</span> increases.</p>
<p>We can have some fun providing some example calculations that tweak various parameters,
prominently including <span class="math notranslate nohighlight">\(\gamma_h, \gamma_c, R\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">equalizing_diff</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class of the equalizing difference model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="p">,</span> <span class="n">D</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">π</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="c1"># one switches to the weak model by setting π</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">γ_h</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">γ_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span> <span class="o">=</span> <span class="n">R</span><span class="p">,</span> <span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="p">,</span> <span class="n">D</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">π</span> <span class="o">=</span> <span class="n">T</span><span class="p">,</span> <span class="n">π</span>
    
    <span class="k">def</span> <span class="nf">compute_gap</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">R</span><span class="p">,</span> <span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">γ_h</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">γ_c</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span>
        <span class="n">T</span><span class="p">,</span> <span class="n">π</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">π</span>
        
        <span class="n">A_h</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">γ_h</span><span class="o">/</span><span class="n">R</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">T</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">γ_h</span><span class="o">/</span><span class="n">R</span><span class="p">)</span>
        <span class="n">A_c</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">γ_c</span><span class="o">/</span><span class="n">R</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">T</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">γ_c</span><span class="o">/</span><span class="n">R</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">γ_c</span><span class="o">/</span><span class="n">R</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span>
        
        <span class="c1"># tweaked model</span>
        <span class="k">if</span> <span class="n">π</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="n">A_c</span> <span class="o">=</span> <span class="n">π</span><span class="o">*</span><span class="n">A_c</span> 
        
        <span class="n">ϕ</span> <span class="o">=</span> <span class="n">A_h</span><span class="o">/</span><span class="n">A_c</span> <span class="o">+</span> <span class="n">D</span><span class="o">/</span><span class="p">(</span><span class="n">w_h0</span><span class="o">*</span><span class="n">A_c</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ϕ</span>
</pre></div>
</div>
</div>
</div>
<p>We can build some functions to help do comparative statics using vectorization instead of loops.</p>
<p>For a given instance of the class, we want to compute <span class="math notranslate nohighlight">\(\phi\)</span> when one parameter changes and others remain unchanged.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ϕ_R</span>
<span class="k">def</span> <span class="nf">ϕ_R</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">R_new</span><span class="p">):</span>
    <span class="n">mc_new</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">R_new</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_h</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_c</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">π</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mc_new</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="n">ϕ_R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">ϕ_R</span><span class="p">)</span>

<span class="c1"># ϕ_γh</span>
<span class="k">def</span> <span class="nf">ϕ_γh</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">γh_new</span><span class="p">):</span>
    <span class="n">mc_new</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">γh_new</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_c</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">π</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mc_new</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="n">ϕ_γh</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">ϕ_γh</span><span class="p">)</span>

<span class="c1"># ϕ_γc</span>
<span class="k">def</span> <span class="nf">ϕ_γc</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">γc_new</span><span class="p">):</span>
    <span class="n">mc_new</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_h</span><span class="p">,</span> <span class="n">γc_new</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">π</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mc_new</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="n">ϕ_γc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">ϕ_γc</span><span class="p">)</span>

<span class="c1"># ϕ_π</span>
<span class="k">def</span> <span class="nf">ϕ_π</span><span class="p">(</span><span class="n">mc</span><span class="p">,</span> <span class="n">π_new</span><span class="p">):</span>
    <span class="n">mc_new</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">mc</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_h</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">γ_c</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">w_h0</span><span class="p">,</span> <span class="n">mc</span><span class="o">.</span><span class="n">D</span><span class="p">,</span> <span class="n">π_new</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">mc_new</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="n">ϕ_π</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vectorize</span><span class="p">(</span><span class="n">ϕ_π</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set benchmark parameters</span>
<span class="n">R</span> <span class="o">=</span> <span class="mf">1.05</span>
<span class="n">T</span> <span class="o">=</span> <span class="mi">40</span>
<span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span> <span class="o">=</span> <span class="mf">1.01</span><span class="p">,</span> <span class="mf">1.02</span>
<span class="n">w_h0</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">D</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># create an instance</span>
<span class="n">ex1</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">R</span><span class="o">=</span><span class="n">R</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">T</span><span class="p">,</span> <span class="n">γ_h</span><span class="o">=</span><span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="o">=</span><span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="o">=</span><span class="n">w_h0</span><span class="p">,</span> <span class="n">D</span><span class="o">=</span><span class="n">D</span><span class="p">)</span>
<span class="n">gap1</span> <span class="o">=</span> <span class="n">ex1</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gap1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.085398977637394
</pre></div>
</div>
</div>
</div>
<p>Let us plot <span class="math notranslate nohighlight">\(\phi\)</span> against some parameters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">R_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">R_arr</span><span class="p">,</span> <span class="n">φ_R</span><span class="p">(</span><span class="n">ex1</span><span class="p">,</span> <span class="n">R_arr</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$R$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;wage gap&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/0abbcdcc6b9e22d6c308d2d063e8a6c017c2b900c0fea29474ccfc637c8c0ae4.png"><img alt="_images/0abbcdcc6b9e22d6c308d2d063e8a6c017c2b900c0fea29474ccfc637c8c0ae4.png" src="_images/0abbcdcc6b9e22d6c308d2d063e8a6c017c2b900c0fea29474ccfc637c8c0ae4.png" style="width: 80%;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">γc_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">γc_arr</span><span class="p">,</span> <span class="n">φ_γc</span><span class="p">(</span><span class="n">ex1</span><span class="p">,</span> <span class="n">γc_arr</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\gamma_c$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;wage gap&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/3f252a407c703380dd0a09b3046d3888c18606796445a9e86b55be4074a49afa.png"><img alt="_images/3f252a407c703380dd0a09b3046d3888c18606796445a9e86b55be4074a49afa.png" src="_images/3f252a407c703380dd0a09b3046d3888c18606796445a9e86b55be4074a49afa.png" style="width: 80%;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">γh_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">γh_arr</span><span class="p">,</span> <span class="n">φ_γh</span><span class="p">(</span><span class="n">ex1</span><span class="p">,</span> <span class="n">γh_arr</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\gamma_h$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;wage gap&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/36d75ecff37ed63ec3cf1c6b5f3fa20822b34e3978de9de79c5ba59914e0fe1f.png"><img alt="_images/36d75ecff37ed63ec3cf1c6b5f3fa20822b34e3978de9de79c5ba59914e0fe1f.png" src="_images/36d75ecff37ed63ec3cf1c6b5f3fa20822b34e3978de9de79c5ba59914e0fe1f.png" style="width: 80%;" /></a>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># free college</span>
<span class="n">ex2</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="p">,</span> <span class="n">D</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">gap2</span> <span class="o">=</span> <span class="n">ex2</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gap2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9906455257282295
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># a model of enterpreneur</span>
<span class="n">ex3</span> <span class="o">=</span> <span class="n">equalizing_diff</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">γ_h</span><span class="p">,</span> <span class="n">γ_c</span><span class="p">,</span> <span class="n">w_h0</span><span class="p">,</span> <span class="n">π</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
<span class="n">gap3</span> <span class="o">=</span> <span class="n">ex3</span><span class="o">.</span><span class="n">compute_gap</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">gap3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.2383069071602868
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">π_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">π_arr</span><span class="p">,</span> <span class="n">φ_π</span><span class="p">(</span><span class="n">ex3</span><span class="p">,</span> <span class="n">π_arr</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;wage gap&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$\pi$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/241324fa18bf9456d60a34bb8b782f3c1791c43334e9a1f9758859d88f7b3d1c.png"><img alt="_images/241324fa18bf9456d60a34bb8b782f3c1791c43334e9a1f9758859d88f7b3d1c.png" src="_images/241324fa18bf9456d60a34bb8b782f3c1791c43334e9a1f9758859d88f7b3d1c.png" style="width: 80%;" /></a>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="about.html">
   1. About These Lectures
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Economic Data
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="long_run_growth.html">
   2. Economic Growth Evidence
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="business_cycle.html">
   3. Business Cycles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inequality.html">
   4. Income and Wealth Inequality
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Essential Tools
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="linear_equations.html">
   5. Linear Equations and Matrix Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eigen_I.html">
   6. Eigenvalues and Eigenvectors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_supply_demand.html">
   7. Introduction to Supply and Demand
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Linear Dynamics
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="pv.html">
   8. Present Values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cons_smooth.html">
   9. Consumption Smoothing
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   10. Equalizing Difference Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="inflation_history.html">
   11. Price Level Histories
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cagan_ree.html">
   12. A Fiscal Theory of the Price Level
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cagan_adaptive.html">
   13. A Fiscal Theory of Price Level with Adaptive Expectations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="geom_series.html">
   14. Geometric Series for Elementary Economics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Probability and Distributions
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="prob_dist.html">
   15. Distributions and Probabilities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lln_clt.html">
   16. LLN and CLT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="monte_carlo.html">
   17. Monte Carlo and Option Pricing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="heavy_tails.html">
   18. Heavy-Tailed Distributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="schelling.html">
   19. Racial Segregation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Nonlinear Dynamics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="solow.html">
   20. The Solow-Swan Growth Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scalar_dynam.html">
   21. Dynamics in One Dimension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cobweb.html">
   22. The Cobweb Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="olg.html">
   23. The Overlapping Generations Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="commod_price.html">
   24. Commodity Prices
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Stochastic Dynamics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="markov_chains_I.html">
   25. Markov Chains: Basic Concepts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_chains_II.html">
   26. Markov Chains: Irreducibility and Ergodicity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="time_series_with_matrices.html">
   27. Univariate Time Series with Matrix Algebra
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Optimization
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="lp_intro.html">
   28. Linear Programming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="short_path.html">
   29. Shortest Paths
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Modeling in Higher Dimensions
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="eigen_II.html">
   30. Spectral Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="input_output.html">
   31. Input-Output Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lake_model.html">
   32. A Lake Model of Employment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="networks.html">
   33. Networks
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Markets and Competitive Equilibrium
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="supply_demand_multiple_goods.html">
   34. Supply and Demand with Many Goods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="supply_demand_heterogeneity.html">
   35. Market Equilibrium with Heterogeneity
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Estimation
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="simple_linear_regression.html">
   36. Simple Linear Regression Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="mle.html">
   37. Maximum Likelihood Estimation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="troubleshooting.html">
   38. Troubleshooting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zreferences.html">
   39. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="status.html">
   40. Execution Statistics
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                    <!-- <li class="btn__search">
                        <form action="search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off">
                            <i data-feather="search"></i>
                        </form>
                    </li> -->
                </ul>

                <ul class="qe-toolbar__links">
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="/_notebooks/equalizing_difference.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/QuantEcon/lecture-python-intro/blob/main/lectures/equalizing_difference.md" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://mybinder.org/v2/gh/QuantEcon/lecture-python-intro.notebooks/master?urlpath=tree/equalizing_difference.ipynb">BinderHub</option>
                
                    <option value="https://colab.research.google.com/github/QuantEcon/lecture-python-intro.notebooks/blob/master/equalizing_difference.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/QuantEcon/lecture-python-intro.notebooks" data-urlpath="tree/lecture-python-intro.notebooks/equalizing_difference.ipynb" data-branch=master>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://mybinder.org/v2/gh/QuantEcon/lecture-python-intro.notebooks/master?urlpath=tree/equalizing_difference.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "equalizing_difference";
                const repoURL = "https://github.com/QuantEcon/lecture-python-intro.notebooks";
                const urlPath = "tree/lecture-python-intro.notebooks/equalizing_difference.ipynb";
                const branch = "master"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/jupyter/hub/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>